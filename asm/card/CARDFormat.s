.include "macros.inc"
.section .text, "ax"  # 0x80005560 - 0x80221F60
.fn FormatCallback, local
/* 8020B29C 002081FC  7C 08 02 A6 */	mflr r0
/* 8020B2A0 00208200  90 01 00 04 */	stw r0, 4(r1)
/* 8020B2A4 00208204  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8020B2A8 00208208  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8020B2AC 0020820C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8020B2B0 00208210  3B C3 00 00 */	addi r30, r3, 0
/* 8020B2B4 00208214  3C 60 80 3D */	lis r3, __CARDBlock@ha
/* 8020B2B8 00208218  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8020B2BC 0020821C  1C BE 01 08 */	mulli r5, r30, 0x108
/* 8020B2C0 00208220  93 81 00 10 */	stw r28, 0x10(r1)
/* 8020B2C4 00208224  38 03 34 20 */	addi r0, r3, __CARDBlock@l
/* 8020B2C8 00208228  7C 9C 23 79 */	or. r28, r4, r4
/* 8020B2CC 0020822C  7F E0 2A 14 */	add r31, r0, r5
/* 8020B2D0 00208230  41 80 00 C4 */	blt .L_8020B394
/* 8020B2D4 00208234  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 8020B2D8 00208238  38 03 00 01 */	addi r0, r3, 1
/* 8020B2DC 0020823C  90 1F 00 24 */	stw r0, 0x24(r31)
/* 8020B2E0 00208240  80 9F 00 24 */	lwz r4, 0x24(r31)
/* 8020B2E4 00208244  2C 04 00 05 */	cmpwi r4, 5
/* 8020B2E8 00208248  40 80 00 28 */	bge .L_8020B310
/* 8020B2EC 0020824C  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8020B2F0 00208250  3C 60 80 21 */	lis r3, FormatCallback@ha
/* 8020B2F4 00208254  38 A3 B2 9C */	addi r5, r3, FormatCallback@l
/* 8020B2F8 00208258  7C 80 21 D6 */	mullw r4, r0, r4
/* 8020B2FC 0020825C  38 7E 00 00 */	addi r3, r30, 0
/* 8020B300 00208260  4B FF D9 E9 */	bl __CARDEraseSector
/* 8020B304 00208264  7C 7C 1B 79 */	or. r28, r3, r3
/* 8020B308 00208268  41 80 00 8C */	blt .L_8020B394
/* 8020B30C 0020826C  48 00 00 B4 */	b .L_8020B3C0
.L_8020B310:
/* 8020B310 00208270  2C 04 00 0A */	cmpwi r4, 0xa
/* 8020B314 00208274  40 80 00 3C */	bge .L_8020B350
/* 8020B318 00208278  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8020B31C 0020827C  38 C4 FF FB */	addi r6, r4, -5
/* 8020B320 00208280  3C 60 80 21 */	lis r3, FormatCallback@ha
/* 8020B324 00208284  80 BF 00 80 */	lwz r5, 0x80(r31)
/* 8020B328 00208288  7C 80 31 D6 */	mullw r4, r0, r6
/* 8020B32C 0020828C  54 C0 68 24 */	slwi r0, r6, 0xd
/* 8020B330 00208290  38 E3 B2 9C */	addi r7, r3, FormatCallback@l
/* 8020B334 00208294  7C C5 02 14 */	add r6, r5, r0
/* 8020B338 00208298  38 7E 00 00 */	addi r3, r30, 0
/* 8020B33C 0020829C  38 A0 20 00 */	li r5, 0x2000
/* 8020B340 002082A0  4B FF E0 F1 */	bl __CARDWrite
/* 8020B344 002082A4  7C 7C 1B 79 */	or. r28, r3, r3
/* 8020B348 002082A8  41 80 00 4C */	blt .L_8020B394
/* 8020B34C 002082AC  48 00 00 74 */	b .L_8020B3C0
.L_8020B350:
/* 8020B350 002082B0  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 8020B354 002082B4  38 A0 20 00 */	li r5, 0x2000
/* 8020B358 002082B8  38 03 20 00 */	addi r0, r3, 0x2000
/* 8020B35C 002082BC  90 1F 00 84 */	stw r0, 0x84(r31)
/* 8020B360 002082C0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 8020B364 002082C4  80 7F 00 84 */	lwz r3, 0x84(r31)
/* 8020B368 002082C8  38 84 40 00 */	addi r4, r4, 0x4000
/* 8020B36C 002082CC  4B DF 80 A9 */	bl memcpy
/* 8020B370 002082D0  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 8020B374 002082D4  38 A0 20 00 */	li r5, 0x2000
/* 8020B378 002082D8  38 03 60 00 */	addi r0, r3, 0x6000
/* 8020B37C 002082DC  90 1F 00 88 */	stw r0, 0x88(r31)
/* 8020B380 002082E0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 8020B384 002082E4  80 7F 00 88 */	lwz r3, 0x88(r31)
/* 8020B388 002082E8  3C 84 00 01 */	addis r4, r4, 1
/* 8020B38C 002082EC  38 84 80 00 */	addi r4, r4, -32768
/* 8020B390 002082F0  4B DF 80 85 */	bl memcpy
.L_8020B394:
/* 8020B394 002082F4  83 BF 00 D0 */	lwz r29, 0xd0(r31)
/* 8020B398 002082F8  38 00 00 00 */	li r0, 0
/* 8020B39C 002082FC  38 7F 00 00 */	addi r3, r31, 0
/* 8020B3A0 00208300  90 1F 00 D0 */	stw r0, 0xd0(r31)
/* 8020B3A4 00208304  7F 84 E3 78 */	mr r4, r28
/* 8020B3A8 00208308  4B FF DB 79 */	bl __CARDPutControlBlock
/* 8020B3AC 0020830C  39 9D 00 00 */	addi r12, r29, 0
/* 8020B3B0 00208310  7D 88 03 A6 */	mtlr r12
/* 8020B3B4 00208314  38 7E 00 00 */	addi r3, r30, 0
/* 8020B3B8 00208318  38 9C 00 00 */	addi r4, r28, 0
/* 8020B3BC 0020831C  4E 80 00 21 */	blrl 
.L_8020B3C0:
/* 8020B3C0 00208320  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8020B3C4 00208324  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8020B3C8 00208328  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8020B3CC 0020832C  7C 08 03 A6 */	mtlr r0
/* 8020B3D0 00208330  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8020B3D4 00208334  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8020B3D8 00208338  38 21 00 20 */	addi r1, r1, 0x20
/* 8020B3DC 0020833C  4E 80 00 20 */	blr 
.endfn FormatCallback

.fn CARDFormatAsync, global
/* 8020B3E0 00208340  7C 08 02 A6 */	mflr r0
/* 8020B3E4 00208344  90 01 00 04 */	stw r0, 4(r1)
/* 8020B3E8 00208348  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 8020B3EC 0020834C  BE 41 00 18 */	stmw r18, 0x18(r1)
/* 8020B3F0 00208350  3A 64 00 00 */	addi r19, r4, 0
/* 8020B3F4 00208354  3A C3 00 00 */	addi r22, r3, 0
/* 8020B3F8 00208358  38 81 00 14 */	addi r4, r1, 0x14
/* 8020B3FC 0020835C  4B FF DA 75 */	bl __CARDGetControlBlock
/* 8020B400 00208360  2C 03 00 00 */	cmpwi r3, 0
/* 8020B404 00208364  40 80 00 08 */	bge .L_8020B40C
/* 8020B408 00208368  48 00 06 1C */	b .L_8020BA24
.L_8020B40C:
/* 8020B40C 0020836C  80 61 00 14 */	lwz r3, 0x14(r1)
/* 8020B410 00208370  38 80 00 FF */	li r4, 0xff
/* 8020B414 00208374  38 A0 20 00 */	li r5, 0x2000
/* 8020B418 00208378  83 63 00 80 */	lwz r27, 0x80(r3)
/* 8020B41C 0020837C  7F 63 DB 78 */	mr r3, r27
/* 8020B420 00208380  4B DF 7F 01 */	bl memset
/* 8020B424 00208384  3C 60 CC 00 */	lis r3, 0xCC00206E@ha
/* 8020B428 00208388  A2 43 20 6E */	lhz r18, 0xCC00206E@l(r3)
/* 8020B42C 0020838C  4B FE DA F9 */	bl OSGetFontEncode
/* 8020B430 00208390  B0 7B 00 24 */	sth r3, 0x24(r27)
/* 8020B434 00208394  4B FE F5 15 */	bl __OSLockSram
/* 8020B438 00208398  80 03 00 0C */	lwz r0, 0xc(r3)
/* 8020B43C 0020839C  90 1B 00 14 */	stw r0, 0x14(r27)
/* 8020B440 002083A0  88 03 00 12 */	lbz r0, 0x12(r3)
/* 8020B444 002083A4  38 60 00 00 */	li r3, 0
/* 8020B448 002083A8  90 1B 00 18 */	stw r0, 0x18(r27)
/* 8020B44C 002083AC  4B FE F8 BD */	bl __OSUnlockSram
/* 8020B450 002083B0  4B FF 1F 51 */	bl OSGetTime
/* 8020B454 002083B4  3A A4 00 00 */	addi r21, r4, 0
/* 8020B458 002083B8  3A 83 00 00 */	addi r20, r3, 0
/* 8020B45C 002083BC  3B 55 00 00 */	addi r26, r21, 0
/* 8020B460 002083C0  3B D4 00 00 */	addi r30, r20, 0
/* 8020B464 002083C4  4B FE F5 41 */	bl __OSLockSramEx
/* 8020B468 002083C8  1C 16 00 0C */	mulli r0, r22, 0xc
/* 8020B46C 002083CC  7F 23 02 14 */	add r25, r3, r0
/* 8020B470 002083D0  3C 60 41 C6 */	lis r3, 0x41C64E6D@ha
/* 8020B474 002083D4  3B 19 00 00 */	addi r24, r25, 0
/* 8020B478 002083D8  3B E3 4E 6D */	addi r31, r3, 0x41C64E6D@l
/* 8020B47C 002083DC  3B 80 00 00 */	li r28, 0
/* 8020B480 002083E0  3A E0 00 04 */	li r23, 4
/* 8020B484 002083E4  48 00 03 74 */	b .L_8020B7F8
.L_8020B488:
/* 8020B488 002083E8  7C BE F9 D6 */	mullw r5, r30, r31
/* 8020B48C 002083EC  7C 7A F8 16 */	mulhwu r3, r26, r31
/* 8020B490 002083F0  3B C0 00 00 */	li r30, 0
/* 8020B494 002083F4  7C A5 1A 14 */	add r5, r5, r3
/* 8020B498 002083F8  7C 7A F1 D6 */	mullw r3, r26, r30
/* 8020B49C 002083FC  7C 1A F9 D6 */	mullw r0, r26, r31
/* 8020B4A0 00208400  3B A0 30 39 */	li r29, 0x3039
/* 8020B4A4 00208404  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B4A8 00208408  7C 05 1A 14 */	add r0, r5, r3
/* 8020B4AC 0020840C  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B4B0 00208410  38 A0 00 10 */	li r5, 0x10
/* 8020B4B4 00208414  48 00 9E 65 */	bl __shr2i
/* 8020B4B8 00208418  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B4BC 0020841C  88 18 00 00 */	lbz r0, 0(r24)
/* 8020B4C0 00208420  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B4C4 00208424  7C C6 2A 14 */	add r6, r6, r5
/* 8020B4C8 00208428  7D 04 00 14 */	addc r8, r4, r0
/* 8020B4CC 0020842C  7F 87 07 34 */	extsh r7, r28
/* 8020B4D0 00208430  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B4D4 00208434  7D 1B 39 AE */	stbx r8, r27, r7
/* 8020B4D8 00208438  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B4DC 0020843C  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B4E0 00208440  7C 06 2A 14 */	add r0, r6, r5
/* 8020B4E4 00208444  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B4E8 00208448  38 A0 00 10 */	li r5, 0x10
/* 8020B4EC 0020844C  48 00 9E 2D */	bl __shr2i
/* 8020B4F0 00208450  3B 40 7F FF */	li r26, 0x7fff
/* 8020B4F4 00208454  7C 60 F0 38 */	and r0, r3, r30
/* 8020B4F8 00208458  7C 84 D0 38 */	and r4, r4, r26
/* 8020B4FC 0020845C  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B500 00208460  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B504 00208464  7C A5 1A 14 */	add r5, r5, r3
/* 8020B508 00208468  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B50C 0020846C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B510 00208470  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B514 00208474  7C 05 1A 14 */	add r0, r5, r3
/* 8020B518 00208478  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B51C 0020847C  38 A0 00 10 */	li r5, 0x10
/* 8020B520 00208480  48 00 9D F9 */	bl __shr2i
/* 8020B524 00208484  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B528 00208488  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B52C 0020848C  39 3C 00 01 */	addi r9, r28, 1
/* 8020B530 00208490  7D 29 07 34 */	extsh r9, r9
/* 8020B534 00208494  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B538 00208498  7C C6 2A 14 */	add r6, r6, r5
/* 8020B53C 0020849C  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B540 002084A0  7C E4 00 14 */	addc r7, r4, r0
/* 8020B544 002084A4  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B548 002084A8  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B54C 002084AC  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B550 002084B0  7C 06 2A 14 */	add r0, r6, r5
/* 8020B554 002084B4  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B558 002084B8  38 A0 00 10 */	li r5, 0x10
/* 8020B55C 002084BC  48 00 9D BD */	bl __shr2i
/* 8020B560 002084C0  7C 60 F0 38 */	and r0, r3, r30
/* 8020B564 002084C4  7C 84 D0 38 */	and r4, r4, r26
/* 8020B568 002084C8  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B56C 002084CC  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B570 002084D0  7C A5 1A 14 */	add r5, r5, r3
/* 8020B574 002084D4  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B578 002084D8  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B57C 002084DC  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B580 002084E0  7C 05 1A 14 */	add r0, r5, r3
/* 8020B584 002084E4  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B588 002084E8  38 A0 00 10 */	li r5, 0x10
/* 8020B58C 002084EC  48 00 9D 8D */	bl __shr2i
/* 8020B590 002084F0  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B594 002084F4  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B598 002084F8  39 3C 00 02 */	addi r9, r28, 2
/* 8020B59C 002084FC  7D 29 07 34 */	extsh r9, r9
/* 8020B5A0 00208500  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B5A4 00208504  7C C6 2A 14 */	add r6, r6, r5
/* 8020B5A8 00208508  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B5AC 0020850C  7C E4 00 14 */	addc r7, r4, r0
/* 8020B5B0 00208510  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B5B4 00208514  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B5B8 00208518  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B5BC 0020851C  7C 06 2A 14 */	add r0, r6, r5
/* 8020B5C0 00208520  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B5C4 00208524  38 A0 00 10 */	li r5, 0x10
/* 8020B5C8 00208528  48 00 9D 51 */	bl __shr2i
/* 8020B5CC 0020852C  7C 60 F0 38 */	and r0, r3, r30
/* 8020B5D0 00208530  7C 84 D0 38 */	and r4, r4, r26
/* 8020B5D4 00208534  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B5D8 00208538  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B5DC 0020853C  7C A5 1A 14 */	add r5, r5, r3
/* 8020B5E0 00208540  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B5E4 00208544  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B5E8 00208548  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B5EC 0020854C  7C 05 1A 14 */	add r0, r5, r3
/* 8020B5F0 00208550  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B5F4 00208554  38 A0 00 10 */	li r5, 0x10
/* 8020B5F8 00208558  48 00 9D 21 */	bl __shr2i
/* 8020B5FC 0020855C  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B600 00208560  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B604 00208564  39 3C 00 03 */	addi r9, r28, 3
/* 8020B608 00208568  7D 29 07 34 */	extsh r9, r9
/* 8020B60C 0020856C  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B610 00208570  7C C6 2A 14 */	add r6, r6, r5
/* 8020B614 00208574  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B618 00208578  7C E4 00 14 */	addc r7, r4, r0
/* 8020B61C 0020857C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B620 00208580  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B624 00208584  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B628 00208588  7C 06 2A 14 */	add r0, r6, r5
/* 8020B62C 0020858C  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B630 00208590  38 A0 00 10 */	li r5, 0x10
/* 8020B634 00208594  48 00 9C E5 */	bl __shr2i
/* 8020B638 00208598  7C 60 F0 38 */	and r0, r3, r30
/* 8020B63C 0020859C  7C 84 D0 38 */	and r4, r4, r26
/* 8020B640 002085A0  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B644 002085A4  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B648 002085A8  7C A5 1A 14 */	add r5, r5, r3
/* 8020B64C 002085AC  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B650 002085B0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B654 002085B4  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B658 002085B8  7C 05 1A 14 */	add r0, r5, r3
/* 8020B65C 002085BC  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B660 002085C0  38 A0 00 10 */	li r5, 0x10
/* 8020B664 002085C4  48 00 9C B5 */	bl __shr2i
/* 8020B668 002085C8  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B66C 002085CC  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B670 002085D0  39 3C 00 04 */	addi r9, r28, 4
/* 8020B674 002085D4  7D 29 07 34 */	extsh r9, r9
/* 8020B678 002085D8  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B67C 002085DC  7C C6 2A 14 */	add r6, r6, r5
/* 8020B680 002085E0  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B684 002085E4  7C E4 00 14 */	addc r7, r4, r0
/* 8020B688 002085E8  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B68C 002085EC  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B690 002085F0  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B694 002085F4  7C 06 2A 14 */	add r0, r6, r5
/* 8020B698 002085F8  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B69C 002085FC  38 A0 00 10 */	li r5, 0x10
/* 8020B6A0 00208600  48 00 9C 79 */	bl __shr2i
/* 8020B6A4 00208604  7C 60 F0 38 */	and r0, r3, r30
/* 8020B6A8 00208608  7C 84 D0 38 */	and r4, r4, r26
/* 8020B6AC 0020860C  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B6B0 00208610  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B6B4 00208614  7C A5 1A 14 */	add r5, r5, r3
/* 8020B6B8 00208618  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B6BC 0020861C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B6C0 00208620  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B6C4 00208624  7C 05 1A 14 */	add r0, r5, r3
/* 8020B6C8 00208628  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B6CC 0020862C  38 A0 00 10 */	li r5, 0x10
/* 8020B6D0 00208630  48 00 9C 49 */	bl __shr2i
/* 8020B6D4 00208634  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B6D8 00208638  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B6DC 0020863C  39 3C 00 05 */	addi r9, r28, 5
/* 8020B6E0 00208640  7D 29 07 34 */	extsh r9, r9
/* 8020B6E4 00208644  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B6E8 00208648  7C C6 2A 14 */	add r6, r6, r5
/* 8020B6EC 0020864C  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B6F0 00208650  7C E4 00 14 */	addc r7, r4, r0
/* 8020B6F4 00208654  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B6F8 00208658  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B6FC 0020865C  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B700 00208660  7C 06 2A 14 */	add r0, r6, r5
/* 8020B704 00208664  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B708 00208668  38 A0 00 10 */	li r5, 0x10
/* 8020B70C 0020866C  48 00 9C 0D */	bl __shr2i
/* 8020B710 00208670  7C 60 F0 38 */	and r0, r3, r30
/* 8020B714 00208674  7C 84 D0 38 */	and r4, r4, r26
/* 8020B718 00208678  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B71C 0020867C  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B720 00208680  7C A5 1A 14 */	add r5, r5, r3
/* 8020B724 00208684  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B728 00208688  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B72C 0020868C  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B730 00208690  7C 05 1A 14 */	add r0, r5, r3
/* 8020B734 00208694  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B738 00208698  38 A0 00 10 */	li r5, 0x10
/* 8020B73C 0020869C  48 00 9B DD */	bl __shr2i
/* 8020B740 002086A0  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B744 002086A4  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B748 002086A8  39 3C 00 06 */	addi r9, r28, 6
/* 8020B74C 002086AC  7D 29 07 34 */	extsh r9, r9
/* 8020B750 002086B0  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B754 002086B4  7C C6 2A 14 */	add r6, r6, r5
/* 8020B758 002086B8  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B75C 002086BC  7C E4 00 14 */	addc r7, r4, r0
/* 8020B760 002086C0  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B764 002086C4  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B768 002086C8  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B76C 002086CC  7C 06 2A 14 */	add r0, r6, r5
/* 8020B770 002086D0  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B774 002086D4  38 A0 00 10 */	li r5, 0x10
/* 8020B778 002086D8  48 00 9B A1 */	bl __shr2i
/* 8020B77C 002086DC  7C 60 F0 38 */	and r0, r3, r30
/* 8020B780 002086E0  7C 84 D0 38 */	and r4, r4, r26
/* 8020B784 002086E4  7C A0 F9 D6 */	mullw r5, r0, r31
/* 8020B788 002086E8  7C 64 F8 16 */	mulhwu r3, r4, r31
/* 8020B78C 002086EC  7C A5 1A 14 */	add r5, r5, r3
/* 8020B790 002086F0  7C 64 F1 D6 */	mullw r3, r4, r30
/* 8020B794 002086F4  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B798 002086F8  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B79C 002086FC  7C 05 1A 14 */	add r0, r5, r3
/* 8020B7A0 00208700  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B7A4 00208704  38 A0 00 10 */	li r5, 0x10
/* 8020B7A8 00208708  48 00 9B 71 */	bl __shr2i
/* 8020B7AC 0020870C  7C C3 F9 D6 */	mullw r6, r3, r31
/* 8020B7B0 00208710  7C A4 F8 16 */	mulhwu r5, r4, r31
/* 8020B7B4 00208714  39 3C 00 07 */	addi r9, r28, 7
/* 8020B7B8 00208718  7D 29 07 34 */	extsh r9, r9
/* 8020B7BC 0020871C  7C 19 48 AE */	lbzx r0, r25, r9
/* 8020B7C0 00208720  7C C6 2A 14 */	add r6, r6, r5
/* 8020B7C4 00208724  7C A4 F1 D6 */	mullw r5, r4, r30
/* 8020B7C8 00208728  7C E4 00 14 */	addc r7, r4, r0
/* 8020B7CC 0020872C  7C 04 F9 D6 */	mullw r0, r4, r31
/* 8020B7D0 00208730  7C FB 49 AE */	stbx r7, r27, r9
/* 8020B7D4 00208734  7C 80 E8 14 */	addc r4, r0, r29
/* 8020B7D8 00208738  7C 06 2A 14 */	add r0, r6, r5
/* 8020B7DC 0020873C  7C 60 F1 14 */	adde r3, r0, r30
/* 8020B7E0 00208740  38 A0 00 10 */	li r5, 0x10
/* 8020B7E4 00208744  48 00 9B 35 */	bl __shr2i
/* 8020B7E8 00208748  7C 9A D0 38 */	and r26, r4, r26
/* 8020B7EC 0020874C  7C 7E F0 38 */	and r30, r3, r30
/* 8020B7F0 00208750  3B 18 00 08 */	addi r24, r24, 8
/* 8020B7F4 00208754  3B 9C 00 08 */	addi r28, r28, 8
.L_8020B7F8:
/* 8020B7F8 00208758  7F 80 07 34 */	extsh r0, r28
/* 8020B7FC 0020875C  7C 00 B8 00 */	cmpw r0, r23
/* 8020B800 00208760  41 80 FC 88 */	blt .L_8020B488
/* 8020B804 00208764  48 00 02 18 */	b .L_8020BA1C
.L_8020B808:
/* 8020B808 00208768  3C 60 41 C6 */	lis r3, 0x41C64E6D@ha
/* 8020B80C 0020876C  3B 23 4E 6D */	addi r25, r3, 0x41C64E6D@l
/* 8020B810 00208770  48 00 00 80 */	b .L_8020B890
.L_8020B814:
/* 8020B814 00208774  7C BE C9 D6 */	mullw r5, r30, r25
/* 8020B818 00208778  7C 7A C8 16 */	mulhwu r3, r26, r25
/* 8020B81C 0020877C  3B 00 00 00 */	li r24, 0
/* 8020B820 00208780  7C A5 1A 14 */	add r5, r5, r3
/* 8020B824 00208784  7C 7A C1 D6 */	mullw r3, r26, r24
/* 8020B828 00208788  7C 1A C9 D6 */	mullw r0, r26, r25
/* 8020B82C 0020878C  3A E0 30 39 */	li r23, 0x3039
/* 8020B830 00208790  7C 80 B8 14 */	addc r4, r0, r23
/* 8020B834 00208794  7C 05 1A 14 */	add r0, r5, r3
/* 8020B838 00208798  7C 60 C1 14 */	adde r3, r0, r24
/* 8020B83C 0020879C  38 A0 00 10 */	li r5, 0x10
/* 8020B840 002087A0  48 00 9A D9 */	bl __shr2i
/* 8020B844 002087A4  7C C3 C9 D6 */	mullw r6, r3, r25
/* 8020B848 002087A8  88 1D 00 00 */	lbz r0, 0(r29)
/* 8020B84C 002087AC  7C A4 C8 16 */	mulhwu r5, r4, r25
/* 8020B850 002087B0  7C C6 2A 14 */	add r6, r6, r5
/* 8020B854 002087B4  7D 04 00 14 */	addc r8, r4, r0
/* 8020B858 002087B8  7F 87 07 34 */	extsh r7, r28
/* 8020B85C 002087BC  7C A4 C1 D6 */	mullw r5, r4, r24
/* 8020B860 002087C0  7D 1B 39 AE */	stbx r8, r27, r7
/* 8020B864 002087C4  7C 04 C9 D6 */	mullw r0, r4, r25
/* 8020B868 002087C8  7C 80 B8 14 */	addc r4, r0, r23
/* 8020B86C 002087CC  7C 06 2A 14 */	add r0, r6, r5
/* 8020B870 002087D0  7C 60 C1 14 */	adde r3, r0, r24
/* 8020B874 002087D4  38 A0 00 10 */	li r5, 0x10
/* 8020B878 002087D8  48 00 9A A1 */	bl __shr2i
/* 8020B87C 002087DC  38 00 7F FF */	li r0, 0x7fff
/* 8020B880 002087E0  7C 9A 00 38 */	and r26, r4, r0
/* 8020B884 002087E4  7C 7E C0 38 */	and r30, r3, r24
/* 8020B888 002087E8  3B BD 00 01 */	addi r29, r29, 1
/* 8020B88C 002087EC  3B 9C 00 01 */	addi r28, r28, 1
.L_8020B890:
/* 8020B890 002087F0  7F 80 07 34 */	extsh r0, r28
/* 8020B894 002087F4  2C 00 00 0C */	cmpwi r0, 0xc
/* 8020B898 002087F8  41 80 FF 7C */	blt .L_8020B814
/* 8020B89C 002087FC  38 60 00 00 */	li r3, 0
/* 8020B8A0 00208800  4B FE F4 8D */	bl __OSUnlockSramEx
/* 8020B8A4 00208804  92 5B 00 1C */	stw r18, 0x1c(r27)
/* 8020B8A8 00208808  3A 40 00 00 */	li r18, 0
/* 8020B8AC 0020880C  38 7B 00 00 */	addi r3, r27, 0
/* 8020B8B0 00208810  92 BB 00 10 */	stw r21, 0x10(r27)
/* 8020B8B4 00208814  38 BB 01 FC */	addi r5, r27, 0x1fc
/* 8020B8B8 00208818  38 DB 01 FE */	addi r6, r27, 0x1fe
/* 8020B8BC 0020881C  92 9B 00 0C */	stw r20, 0xc(r27)
/* 8020B8C0 00208820  38 80 01 FC */	li r4, 0x1fc
/* 8020B8C4 00208824  B2 5B 00 20 */	sth r18, 0x20(r27)
/* 8020B8C8 00208828  80 E1 00 14 */	lwz r7, 0x14(r1)
/* 8020B8CC 0020882C  A0 07 00 08 */	lhz r0, 8(r7)
/* 8020B8D0 00208830  B0 1B 00 22 */	sth r0, 0x22(r27)
/* 8020B8D4 00208834  4B FF E2 41 */	bl __CARDCheckSum
/* 8020B8D8 00208838  48 00 00 4C */	b .L_8020B924
.L_8020B8DC:
/* 8020B8DC 0020883C  80 81 00 14 */	lwz r4, 0x14(r1)
/* 8020B8E0 00208840  7E 43 07 34 */	extsh r3, r18
/* 8020B8E4 00208844  38 03 00 01 */	addi r0, r3, 1
/* 8020B8E8 00208848  80 64 00 80 */	lwz r3, 0x80(r4)
/* 8020B8EC 0020884C  54 00 68 24 */	slwi r0, r0, 0xd
/* 8020B8F0 00208850  38 80 00 FF */	li r4, 0xff
/* 8020B8F4 00208854  7E 83 02 14 */	add r20, r3, r0
/* 8020B8F8 00208858  38 74 00 00 */	addi r3, r20, 0
/* 8020B8FC 0020885C  38 A0 20 00 */	li r5, 0x2000
/* 8020B900 00208860  4B DF 7A 21 */	bl memset
/* 8020B904 00208864  38 94 1F C0 */	addi r4, r20, 0x1fc0
/* 8020B908 00208868  B2 54 1F FA */	sth r18, 0x1ffa(r20)
/* 8020B90C 0020886C  38 74 00 00 */	addi r3, r20, 0
/* 8020B910 00208870  38 A4 00 3C */	addi r5, r4, 0x3c
/* 8020B914 00208874  38 C4 00 3E */	addi r6, r4, 0x3e
/* 8020B918 00208878  38 80 1F FC */	li r4, 0x1ffc
/* 8020B91C 0020887C  4B FF E1 F9 */	bl __CARDCheckSum
/* 8020B920 00208880  3A 52 00 01 */	addi r18, r18, 1
.L_8020B924:
/* 8020B924 00208884  7E 40 07 34 */	extsh r0, r18
/* 8020B928 00208888  2C 00 00 02 */	cmpwi r0, 2
/* 8020B92C 0020888C  41 80 FF B0 */	blt .L_8020B8DC
/* 8020B930 00208890  3A 40 00 00 */	li r18, 0
/* 8020B934 00208894  48 00 00 60 */	b .L_8020B994
.L_8020B938:
/* 8020B938 00208898  80 81 00 14 */	lwz r4, 0x14(r1)
/* 8020B93C 0020889C  7E 43 07 34 */	extsh r3, r18
/* 8020B940 002088A0  38 03 00 03 */	addi r0, r3, 3
/* 8020B944 002088A4  80 64 00 80 */	lwz r3, 0x80(r4)
/* 8020B948 002088A8  54 00 68 24 */	slwi r0, r0, 0xd
/* 8020B94C 002088AC  38 80 00 00 */	li r4, 0
/* 8020B950 002088B0  7E 83 02 14 */	add r20, r3, r0
/* 8020B954 002088B4  38 74 00 00 */	addi r3, r20, 0
/* 8020B958 002088B8  38 A0 20 00 */	li r5, 0x2000
/* 8020B95C 002088BC  4B DF 79 C5 */	bl memset
/* 8020B960 002088C0  B2 54 00 04 */	sth r18, 4(r20)
/* 8020B964 002088C4  38 00 00 04 */	li r0, 4
/* 8020B968 002088C8  38 B4 00 00 */	addi r5, r20, 0
/* 8020B96C 002088CC  80 81 00 14 */	lwz r4, 0x14(r1)
/* 8020B970 002088D0  38 74 00 04 */	addi r3, r20, 4
/* 8020B974 002088D4  38 D4 00 02 */	addi r6, r20, 2
/* 8020B978 002088D8  A0 E4 00 10 */	lhz r7, 0x10(r4)
/* 8020B97C 002088DC  38 80 1F FC */	li r4, 0x1ffc
/* 8020B980 002088E0  38 E7 FF FB */	addi r7, r7, -5
/* 8020B984 002088E4  B0 F4 00 06 */	sth r7, 6(r20)
/* 8020B988 002088E8  B0 14 00 08 */	sth r0, 8(r20)
/* 8020B98C 002088EC  4B FF E1 89 */	bl __CARDCheckSum
/* 8020B990 002088F0  3A 52 00 01 */	addi r18, r18, 1
.L_8020B994:
/* 8020B994 002088F4  7E 40 07 34 */	extsh r0, r18
/* 8020B998 002088F8  2C 00 00 02 */	cmpwi r0, 2
/* 8020B99C 002088FC  41 80 FF 9C */	blt .L_8020B938
/* 8020B9A0 00208900  28 13 00 00 */	cmplwi r19, 0
/* 8020B9A4 00208904  41 82 00 0C */	beq .L_8020B9B0
/* 8020B9A8 00208908  7E 60 9B 78 */	mr r0, r19
/* 8020B9AC 0020890C  48 00 00 0C */	b .L_8020B9B8
.L_8020B9B0:
/* 8020B9B0 00208910  3C 60 80 20 */	lis r3, __CARDDefaultApiCallback@ha
/* 8020B9B4 00208914  38 03 7E 60 */	addi r0, r3, __CARDDefaultApiCallback@l
.L_8020B9B8:
/* 8020B9B8 00208918  80 A1 00 14 */	lwz r5, 0x14(r1)
/* 8020B9BC 0020891C  3C 60 00 01 */	lis r3, 0x0000A000@ha
/* 8020B9C0 00208920  38 83 A0 00 */	addi r4, r3, 0x0000A000@l
/* 8020B9C4 00208924  90 05 00 D0 */	stw r0, 0xd0(r5)
/* 8020B9C8 00208928  80 61 00 14 */	lwz r3, 0x14(r1)
/* 8020B9CC 0020892C  80 63 00 80 */	lwz r3, 0x80(r3)
/* 8020B9D0 00208930  4B FE B2 4D */	bl DCStoreRange
/* 8020B9D4 00208934  80 81 00 14 */	lwz r4, 0x14(r1)
/* 8020B9D8 00208938  38 00 00 00 */	li r0, 0
/* 8020B9DC 0020893C  3C 60 80 21 */	lis r3, FormatCallback@ha
/* 8020B9E0 00208940  90 04 00 24 */	stw r0, 0x24(r4)
/* 8020B9E4 00208944  38 A3 B2 9C */	addi r5, r3, FormatCallback@l
/* 8020B9E8 00208948  38 76 00 00 */	addi r3, r22, 0
/* 8020B9EC 0020894C  80 C1 00 14 */	lwz r6, 0x14(r1)
/* 8020B9F0 00208950  80 86 00 0C */	lwz r4, 0xc(r6)
/* 8020B9F4 00208954  80 06 00 24 */	lwz r0, 0x24(r6)
/* 8020B9F8 00208958  7C 84 01 D6 */	mullw r4, r4, r0
/* 8020B9FC 0020895C  4B FF D2 ED */	bl __CARDEraseSector
/* 8020BA00 00208960  7C 72 1B 79 */	or. r18, r3, r3
/* 8020BA04 00208964  40 80 00 10 */	bge .L_8020BA14
/* 8020BA08 00208968  80 61 00 14 */	lwz r3, 0x14(r1)
/* 8020BA0C 0020896C  7E 44 93 78 */	mr r4, r18
/* 8020BA10 00208970  4B FF D5 11 */	bl __CARDPutControlBlock
.L_8020BA14:
/* 8020BA14 00208974  7E 43 93 78 */	mr r3, r18
/* 8020BA18 00208978  48 00 00 0C */	b .L_8020BA24
.L_8020BA1C:
/* 8020BA1C 0020897C  7F B9 02 14 */	add r29, r25, r0
/* 8020BA20 00208980  4B FF FD E8 */	b .L_8020B808
.L_8020BA24:
/* 8020BA24 00208984  BA 41 00 18 */	lmw r18, 0x18(r1)
/* 8020BA28 00208988  80 01 00 54 */	lwz r0, 0x54(r1)
/* 8020BA2C 0020898C  38 21 00 50 */	addi r1, r1, 0x50
/* 8020BA30 00208990  7C 08 03 A6 */	mtlr r0
/* 8020BA34 00208994  4E 80 00 20 */	blr 
.endfn CARDFormatAsync

.fn CARDFormat, global
/* 8020BA38 00208998  7C 08 02 A6 */	mflr r0
/* 8020BA3C 0020899C  3C 80 80 20 */	lis r4, __CARDSyncCallback@ha
/* 8020BA40 002089A0  90 01 00 04 */	stw r0, 4(r1)
/* 8020BA44 002089A4  38 84 7E 64 */	addi r4, r4, __CARDSyncCallback@l
/* 8020BA48 002089A8  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8020BA4C 002089AC  93 E1 00 14 */	stw r31, 0x14(r1)
/* 8020BA50 002089B0  3B E3 00 00 */	addi r31, r3, 0
/* 8020BA54 002089B4  4B FF F9 8D */	bl CARDFormatAsync
/* 8020BA58 002089B8  2C 03 00 00 */	cmpwi r3, 0
/* 8020BA5C 002089BC  40 80 00 08 */	bge .L_8020BA64
/* 8020BA60 002089C0  48 00 00 0C */	b .L_8020BA6C
.L_8020BA64:
/* 8020BA64 002089C4  7F E3 FB 78 */	mr r3, r31
/* 8020BA68 002089C8  4B FF D6 C5 */	bl __CARDSync
.L_8020BA6C:
/* 8020BA6C 002089CC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8020BA70 002089D0  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 8020BA74 002089D4  38 21 00 18 */	addi r1, r1, 0x18
/* 8020BA78 002089D8  7C 08 03 A6 */	mtlr r0
/* 8020BA7C 002089DC  4E 80 00 20 */	blr 
.endfn CARDFormat
