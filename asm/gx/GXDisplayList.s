.include "macros.inc"
.section .text, "ax"  # 0x80005560 - 0x80221F60
.fn GXBeginDisplayList, global
/* 802140E8 00211048  7C 08 02 A6 */	mflr r0
/* 802140EC 0021104C  3C A0 80 3D */	lis r5, DisplayListFifo@ha
/* 802140F0 00211050  90 01 00 04 */	stw r0, 4(r1)
/* 802140F4 00211054  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 802140F8 00211058  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 802140FC 0021105C  3B E5 3B C8 */	addi r31, r5, DisplayListFifo@l
/* 80214100 00211060  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80214104 00211064  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80214108 00211068  3B A4 00 00 */	addi r29, r4, 0
/* 8021410C 0021106C  93 81 00 10 */	stw r28, 0x10(r1)
/* 80214110 00211070  3B 83 00 00 */	addi r28, r3, 0
/* 80214114 00211074  4B FF B1 8D */	bl GXGetCPUFifo
/* 80214118 00211078  80 8D 2A 68 */	lwz r4, gx@sda21(r13)
/* 8021411C 0021107C  7C 7E 1B 78 */	mr r30, r3
/* 80214120 00211080  80 04 04 F0 */	lwz r0, 0x4f0(r4)
/* 80214124 00211084  28 00 00 00 */	cmplwi r0, 0
/* 80214128 00211088  41 82 00 08 */	beq .L_80214130
/* 8021412C 0021108C  4B FF CA 1D */	bl __GXSetDirtyState
.L_80214130:
/* 80214130 00211090  80 8D 2A 68 */	lwz r4, gx@sda21(r13)
/* 80214134 00211094  88 04 04 ED */	lbz r0, 0x4ed(r4)
/* 80214138 00211098  28 00 00 00 */	cmplwi r0, 0
/* 8021413C 0021109C  41 82 00 10 */	beq .L_8021414C
/* 80214140 002110A0  38 7F 00 24 */	addi r3, r31, 0x24
/* 80214144 002110A4  38 A0 04 F4 */	li r5, 0x4f4
/* 80214148 002110A8  4B DE F2 CD */	bl memcpy
.L_8021414C:
/* 8021414C 002110AC  38 1D FF FC */	addi r0, r29, -4
/* 80214150 002110B0  93 9F 00 00 */	stw r28, 0(r31)
/* 80214154 002110B4  7C 1C 02 14 */	add r0, r28, r0
/* 80214158 002110B8  90 1F 00 04 */	stw r0, 4(r31)
/* 8021415C 002110BC  38 80 00 00 */	li r4, 0
/* 80214160 002110C0  38 00 00 01 */	li r0, 1
/* 80214164 002110C4  93 BF 00 08 */	stw r29, 8(r31)
/* 80214168 002110C8  7F C3 F3 78 */	mr r3, r30
/* 8021416C 002110CC  90 9F 00 1C */	stw r4, 0x1c(r31)
/* 80214170 002110D0  93 9F 00 14 */	stw r28, 0x14(r31)
/* 80214174 002110D4  93 9F 00 18 */	stw r28, 0x18(r31)
/* 80214178 002110D8  80 8D 2A 68 */	lwz r4, gx@sda21(r13)
/* 8021417C 002110DC  98 04 04 EC */	stb r0, 0x4ec(r4)
/* 80214180 002110E0  4B FF AE 6D */	bl GXSaveCPUFifo
/* 80214184 002110E4  93 CD 34 68 */	stw r30, OldCPUFifo@sda21(r13)
/* 80214188 002110E8  7F E3 FB 78 */	mr r3, r31
/* 8021418C 002110EC  4B FF AB D9 */	bl GXSetCPUFifo
/* 80214190 002110F0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80214194 002110F4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80214198 002110F8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8021419C 002110FC  7C 08 03 A6 */	mtlr r0
/* 802141A0 00211100  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 802141A4 00211104  83 81 00 10 */	lwz r28, 0x10(r1)
/* 802141A8 00211108  38 21 00 20 */	addi r1, r1, 0x20
/* 802141AC 0021110C  4E 80 00 20 */	blr 
.endfn GXBeginDisplayList

.fn GXEndDisplayList, global
/* 802141B0 00211110  7C 08 02 A6 */	mflr r0
/* 802141B4 00211114  3C 80 80 3D */	lis r4, DisplayListFifo@ha
/* 802141B8 00211118  90 01 00 04 */	stw r0, 4(r1)
/* 802141BC 0021111C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 802141C0 00211120  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 802141C4 00211124  3B E4 3B C8 */	addi r31, r4, DisplayListFifo@l
/* 802141C8 00211128  93 C1 00 18 */	stw r30, 0x18(r1)
/* 802141CC 0021112C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 802141D0 00211130  93 81 00 10 */	stw r28, 0x10(r1)
/* 802141D4 00211134  80 6D 2A 68 */	lwz r3, gx@sda21(r13)
/* 802141D8 00211138  80 03 04 F0 */	lwz r0, 0x4f0(r3)
/* 802141DC 0021113C  28 00 00 00 */	cmplwi r0, 0
/* 802141E0 00211140  41 82 00 08 */	beq .L_802141E8
/* 802141E4 00211144  4B FF C9 65 */	bl __GXSetDirtyState
.L_802141E8:
/* 802141E8 00211148  80 8D 34 20 */	lwz r4, __piReg@sda21(r13)
/* 802141EC 0021114C  7F E3 FB 78 */	mr r3, r31
/* 802141F0 00211150  80 04 00 14 */	lwz r0, 0x14(r4)
/* 802141F4 00211154  54 1E 37 FE */	rlwinm r30, r0, 6, 0x1f, 0x1f
/* 802141F8 00211158  4B FF AE 15 */	bl __GXSaveCPUFifoAux
/* 802141FC 0021115C  80 6D 34 68 */	lwz r3, OldCPUFifo@sda21(r13)
/* 80214200 00211160  4B FF AB 65 */	bl GXSetCPUFifo
/* 80214204 00211164  80 6D 2A 68 */	lwz r3, gx@sda21(r13)
/* 80214208 00211168  88 03 04 ED */	lbz r0, 0x4ed(r3)
/* 8021420C 0021116C  28 00 00 00 */	cmplwi r0, 0
/* 80214210 00211170  41 82 00 34 */	beq .L_80214244
/* 80214214 00211174  4B FE 4D 69 */	bl OSDisableInterrupts
/* 80214218 00211178  80 8D 2A 68 */	lwz r4, gx@sda21(r13)
/* 8021421C 0021117C  7C 7D 1B 78 */	mr r29, r3
/* 80214220 00211180  38 A0 04 F4 */	li r5, 0x4f4
/* 80214224 00211184  83 84 00 08 */	lwz r28, 8(r4)
/* 80214228 00211188  38 64 00 00 */	addi r3, r4, 0
/* 8021422C 0021118C  38 9F 00 24 */	addi r4, r31, 0x24
/* 80214230 00211190  4B DE F1 E5 */	bl memcpy
/* 80214234 00211194  80 8D 2A 68 */	lwz r4, gx@sda21(r13)
/* 80214238 00211198  7F A3 EB 78 */	mr r3, r29
/* 8021423C 0021119C  93 84 00 08 */	stw r28, 8(r4)
/* 80214240 002111A0  4B FE 4D 65 */	bl OSRestoreInterrupts
.L_80214244:
/* 80214244 002111A4  80 6D 2A 68 */	lwz r3, gx@sda21(r13)
/* 80214248 002111A8  38 00 00 00 */	li r0, 0
/* 8021424C 002111AC  28 1E 00 00 */	cmplwi r30, 0
/* 80214250 002111B0  98 03 04 EC */	stb r0, 0x4ec(r3)
/* 80214254 002111B4  40 82 00 0C */	bne .L_80214260
/* 80214258 002111B8  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 8021425C 002111BC  48 00 00 08 */	b .L_80214264
.L_80214260:
/* 80214260 002111C0  38 60 00 00 */	li r3, 0
.L_80214264:
/* 80214264 002111C4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80214268 002111C8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8021426C 002111CC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80214270 002111D0  7C 08 03 A6 */	mtlr r0
/* 80214274 002111D4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80214278 002111D8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8021427C 002111DC  38 21 00 20 */	addi r1, r1, 0x20
/* 80214280 002111E0  4E 80 00 20 */	blr 
.endfn GXEndDisplayList

.fn GXCallDisplayList, global
/* 80214284 002111E4  7C 08 02 A6 */	mflr r0
/* 80214288 002111E8  90 01 00 04 */	stw r0, 4(r1)
/* 8021428C 002111EC  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 80214290 002111F0  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80214294 002111F4  3B E4 00 00 */	addi r31, r4, 0
/* 80214298 002111F8  93 C1 00 10 */	stw r30, 0x10(r1)
/* 8021429C 002111FC  3B C3 00 00 */	addi r30, r3, 0
/* 802142A0 00211200  80 AD 2A 68 */	lwz r5, gx@sda21(r13)
/* 802142A4 00211204  80 05 04 F0 */	lwz r0, 0x4f0(r5)
/* 802142A8 00211208  28 00 00 00 */	cmplwi r0, 0
/* 802142AC 0021120C  41 82 00 08 */	beq .L_802142B4
/* 802142B0 00211210  4B FF C8 99 */	bl __GXSetDirtyState
.L_802142B4:
/* 802142B4 00211214  80 6D 2A 68 */	lwz r3, gx@sda21(r13)
/* 802142B8 00211218  80 03 00 00 */	lwz r0, 0(r3)
/* 802142BC 0021121C  28 00 00 00 */	cmplwi r0, 0
/* 802142C0 00211220  41 82 00 08 */	beq .L_802142C8
/* 802142C4 00211224  4B FF C9 ED */	bl __GXSendFlushPrim
.L_802142C8:
/* 802142C8 00211228  38 00 00 40 */	li r0, 0x40
/* 802142CC 0021122C  3C 60 CC 01 */	lis r3, 0xCC008000@ha
/* 802142D0 00211230  98 03 80 00 */	stb r0, 0xCC008000@l(r3)
/* 802142D4 00211234  93 C3 80 00 */	stw r30, 0xCC008000@l(r3)
/* 802142D8 00211238  93 E3 80 00 */	stw r31, 0xCC008000@l(r3)
/* 802142DC 0021123C  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 802142E0 00211240  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 802142E4 00211244  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 802142E8 00211248  38 21 00 18 */	addi r1, r1, 0x18
/* 802142EC 0021124C  7C 08 03 A6 */	mtlr r0
/* 802142F0 00211250  4E 80 00 20 */	blr 
.endfn GXCallDisplayList

.section .sbss, "wa"
.balign 8
.obj OldCPUFifo, local
	.skip 0x4
.endobj OldCPUFifo

.section .bss, "wa"  # 0x802E9640 - 0x803E81E5
.balign 8
.obj DisplayListFifo, local
	.skip 0x24
.endobj DisplayListFifo
.balign 4
.obj __savedGXdata, local
	.skip 0x4F4
.endobj __savedGXdata
