.include "macros.inc"
.section .text, "ax"  # 0x80005560 - 0x80221F60
.global __ARQServiceQueueLo
__ARQServiceQueueLo:
/* 80207A80 002049E0  7C 08 02 A6 */	mflr r0
/* 80207A84 002049E4  90 01 00 04 */	stw r0, 4(r1)
/* 80207A88 002049E8  94 21 FF F8 */	stwu r1, -8(r1)
/* 80207A8C 002049EC  80 0D 33 F4 */	lwz r0, __ARQRequestPendingLo@sda21(r13)
/* 80207A90 002049F0  28 00 00 00 */	cmplwi r0, 0
/* 80207A94 002049F4  40 82 00 1C */	bne .L_80207AB0
/* 80207A98 002049F8  80 6D 33 E8 */	lwz r3, __ARQRequestQueueLo@sda21(r13)
/* 80207A9C 002049FC  28 03 00 00 */	cmplwi r3, 0
/* 80207AA0 00204A00  41 82 00 10 */	beq .L_80207AB0
/* 80207AA4 00204A04  90 6D 33 F4 */	stw r3, __ARQRequestPendingLo@sda21(r13)
/* 80207AA8 00204A08  80 03 00 00 */	lwz r0, 0(r3)
/* 80207AAC 00204A0C  90 0D 33 E8 */	stw r0, __ARQRequestQueueLo@sda21(r13)
.L_80207AB0:
/* 80207AB0 00204A10  80 AD 33 F4 */	lwz r5, __ARQRequestPendingLo@sda21(r13)
/* 80207AB4 00204A14  28 05 00 00 */	cmplwi r5, 0
/* 80207AB8 00204A18  41 82 00 B8 */	beq .L_80207B70
/* 80207ABC 00204A1C  80 C5 00 18 */	lwz r6, 0x18(r5)
/* 80207AC0 00204A20  80 0D 34 00 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80207AC4 00204A24  7C 06 00 40 */	cmplw r6, r0
/* 80207AC8 00204A28  41 81 00 3C */	bgt .L_80207B04
/* 80207ACC 00204A2C  80 65 00 08 */	lwz r3, 8(r5)
/* 80207AD0 00204A30  28 03 00 00 */	cmplwi r3, 0
/* 80207AD4 00204A34  40 82 00 14 */	bne .L_80207AE8
/* 80207AD8 00204A38  80 85 00 10 */	lwz r4, 0x10(r5)
/* 80207ADC 00204A3C  80 A5 00 14 */	lwz r5, 0x14(r5)
/* 80207AE0 00204A40  4B FF EE 71 */	bl ARStartDMA
/* 80207AE4 00204A44  48 00 00 10 */	b .L_80207AF4
.L_80207AE8:
/* 80207AE8 00204A48  80 85 00 14 */	lwz r4, 0x14(r5)
/* 80207AEC 00204A4C  80 A5 00 10 */	lwz r5, 0x10(r5)
/* 80207AF0 00204A50  4B FF EE 61 */	bl ARStartDMA
.L_80207AF4:
/* 80207AF4 00204A54  80 6D 33 F4 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 80207AF8 00204A58  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80207AFC 00204A5C  90 0D 33 FC */	stw r0, __ARQCallbackLo@sda21(r13)
/* 80207B00 00204A60  48 00 00 34 */	b .L_80207B34
.L_80207B04:
/* 80207B04 00204A64  80 65 00 08 */	lwz r3, 8(r5)
/* 80207B08 00204A68  28 03 00 00 */	cmplwi r3, 0
/* 80207B0C 00204A6C  40 82 00 18 */	bne .L_80207B24
/* 80207B10 00204A70  80 85 00 10 */	lwz r4, 0x10(r5)
/* 80207B14 00204A74  7C 06 03 78 */	mr r6, r0
/* 80207B18 00204A78  80 A5 00 14 */	lwz r5, 0x14(r5)
/* 80207B1C 00204A7C  4B FF EE 35 */	bl ARStartDMA
/* 80207B20 00204A80  48 00 00 14 */	b .L_80207B34
.L_80207B24:
/* 80207B24 00204A84  80 85 00 14 */	lwz r4, 0x14(r5)
/* 80207B28 00204A88  7C 06 03 78 */	mr r6, r0
/* 80207B2C 00204A8C  80 A5 00 10 */	lwz r5, 0x10(r5)
/* 80207B30 00204A90  4B FF EE 21 */	bl ARStartDMA
.L_80207B34:
/* 80207B34 00204A94  80 6D 33 F4 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 80207B38 00204A98  80 8D 34 00 */	lwz r4, __ARQChunkSize@sda21(r13)
/* 80207B3C 00204A9C  80 03 00 18 */	lwz r0, 0x18(r3)
/* 80207B40 00204AA0  7C 04 00 50 */	subf r0, r4, r0
/* 80207B44 00204AA4  90 03 00 18 */	stw r0, 0x18(r3)
/* 80207B48 00204AA8  80 8D 33 F4 */	lwz r4, __ARQRequestPendingLo@sda21(r13)
/* 80207B4C 00204AAC  80 0D 34 00 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80207B50 00204AB0  80 64 00 10 */	lwz r3, 0x10(r4)
/* 80207B54 00204AB4  7C 03 02 14 */	add r0, r3, r0
/* 80207B58 00204AB8  90 04 00 10 */	stw r0, 0x10(r4)
/* 80207B5C 00204ABC  80 8D 33 F4 */	lwz r4, __ARQRequestPendingLo@sda21(r13)
/* 80207B60 00204AC0  80 0D 34 00 */	lwz r0, __ARQChunkSize@sda21(r13)
/* 80207B64 00204AC4  80 64 00 14 */	lwz r3, 0x14(r4)
/* 80207B68 00204AC8  7C 03 02 14 */	add r0, r3, r0
/* 80207B6C 00204ACC  90 04 00 14 */	stw r0, 0x14(r4)
.L_80207B70:
/* 80207B70 00204AD0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80207B74 00204AD4  38 21 00 08 */	addi r1, r1, 8
/* 80207B78 00204AD8  7C 08 03 A6 */	mtlr r0
/* 80207B7C 00204ADC  4E 80 00 20 */	blr 

.global __ARQCallbackHack
__ARQCallbackHack:
/* 80207B80 00204AE0  4E 80 00 20 */	blr 

.global __ARQInterruptServiceRoutine
__ARQInterruptServiceRoutine:
/* 80207B84 00204AE4  7C 08 02 A6 */	mflr r0
/* 80207B88 00204AE8  90 01 00 04 */	stw r0, 4(r1)
/* 80207B8C 00204AEC  94 21 FF F8 */	stwu r1, -8(r1)
/* 80207B90 00204AF0  81 8D 33 F8 */	lwz r12, __ARQCallbackHi@sda21(r13)
/* 80207B94 00204AF4  28 0C 00 00 */	cmplwi r12, 0
/* 80207B98 00204AF8  41 82 00 20 */	beq .L_80207BB8
/* 80207B9C 00204AFC  80 6D 33 F0 */	lwz r3, __ARQRequestPendingHi@sda21(r13)
/* 80207BA0 00204B00  7D 88 03 A6 */	mtlr r12
/* 80207BA4 00204B04  4E 80 00 21 */	blrl 
/* 80207BA8 00204B08  38 00 00 00 */	li r0, 0
/* 80207BAC 00204B0C  90 0D 33 F0 */	stw r0, __ARQRequestPendingHi@sda21(r13)
/* 80207BB0 00204B10  90 0D 33 F8 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80207BB4 00204B14  48 00 00 28 */	b .L_80207BDC
.L_80207BB8:
/* 80207BB8 00204B18  81 8D 33 FC */	lwz r12, __ARQCallbackLo@sda21(r13)
/* 80207BBC 00204B1C  28 0C 00 00 */	cmplwi r12, 0
/* 80207BC0 00204B20  41 82 00 1C */	beq .L_80207BDC
/* 80207BC4 00204B24  80 6D 33 F4 */	lwz r3, __ARQRequestPendingLo@sda21(r13)
/* 80207BC8 00204B28  7D 88 03 A6 */	mtlr r12
/* 80207BCC 00204B2C  4E 80 00 21 */	blrl 
/* 80207BD0 00204B30  38 00 00 00 */	li r0, 0
/* 80207BD4 00204B34  90 0D 33 F4 */	stw r0, __ARQRequestPendingLo@sda21(r13)
/* 80207BD8 00204B38  90 0D 33 FC */	stw r0, __ARQCallbackLo@sda21(r13)
.L_80207BDC:
/* 80207BDC 00204B3C  80 CD 33 E0 */	lwz r6, __ARQRequestQueueHi@sda21(r13)
/* 80207BE0 00204B40  28 06 00 00 */	cmplwi r6, 0
/* 80207BE4 00204B44  41 82 00 4C */	beq .L_80207C30
/* 80207BE8 00204B48  80 66 00 08 */	lwz r3, 8(r6)
/* 80207BEC 00204B4C  28 03 00 00 */	cmplwi r3, 0
/* 80207BF0 00204B50  40 82 00 18 */	bne .L_80207C08
/* 80207BF4 00204B54  80 86 00 10 */	lwz r4, 0x10(r6)
/* 80207BF8 00204B58  80 A6 00 14 */	lwz r5, 0x14(r6)
/* 80207BFC 00204B5C  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80207C00 00204B60  4B FF ED 51 */	bl ARStartDMA
/* 80207C04 00204B64  48 00 00 14 */	b .L_80207C18
.L_80207C08:
/* 80207C08 00204B68  80 86 00 14 */	lwz r4, 0x14(r6)
/* 80207C0C 00204B6C  80 A6 00 10 */	lwz r5, 0x10(r6)
/* 80207C10 00204B70  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80207C14 00204B74  4B FF ED 3D */	bl ARStartDMA
.L_80207C18:
/* 80207C18 00204B78  80 6D 33 E0 */	lwz r3, __ARQRequestQueueHi@sda21(r13)
/* 80207C1C 00204B7C  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80207C20 00204B80  90 0D 33 F8 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80207C24 00204B84  90 6D 33 F0 */	stw r3, __ARQRequestPendingHi@sda21(r13)
/* 80207C28 00204B88  80 03 00 00 */	lwz r0, 0(r3)
/* 80207C2C 00204B8C  90 0D 33 E0 */	stw r0, __ARQRequestQueueHi@sda21(r13)
.L_80207C30:
/* 80207C30 00204B90  80 0D 33 F0 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 80207C34 00204B94  28 00 00 00 */	cmplwi r0, 0
/* 80207C38 00204B98  40 82 00 08 */	bne .L_80207C40
/* 80207C3C 00204B9C  4B FF FE 45 */	bl __ARQServiceQueueLo
.L_80207C40:
/* 80207C40 00204BA0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80207C44 00204BA4  38 21 00 08 */	addi r1, r1, 8
/* 80207C48 00204BA8  7C 08 03 A6 */	mtlr r0
/* 80207C4C 00204BAC  4E 80 00 20 */	blr 

.global ARQInit
ARQInit:
/* 80207C50 00204BB0  7C 08 02 A6 */	mflr r0
/* 80207C54 00204BB4  90 01 00 04 */	stw r0, 4(r1)
/* 80207C58 00204BB8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80207C5C 00204BBC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80207C60 00204BC0  80 0D 34 04 */	lwz r0, __ARQ_init_flag@sda21(r13)
/* 80207C64 00204BC4  2C 00 00 01 */	cmpwi r0, 1
/* 80207C68 00204BC8  41 82 00 3C */	beq .L_80207CA4
/* 80207C6C 00204BCC  3B E0 00 00 */	li r31, 0
/* 80207C70 00204BD0  38 00 10 00 */	li r0, 0x1000
/* 80207C74 00204BD4  93 ED 33 E8 */	stw r31, __ARQRequestQueueLo@sda21(r13)
/* 80207C78 00204BD8  3C 60 80 20 */	lis r3, __ARQInterruptServiceRoutine@ha
/* 80207C7C 00204BDC  93 ED 33 E0 */	stw r31, __ARQRequestQueueHi@sda21(r13)
/* 80207C80 00204BE0  38 63 7B 84 */	addi r3, r3, __ARQInterruptServiceRoutine@l
/* 80207C84 00204BE4  90 0D 34 00 */	stw r0, __ARQChunkSize@sda21(r13)
/* 80207C88 00204BE8  4B FF EC 85 */	bl ARRegisterDMACallback
/* 80207C8C 00204BEC  38 00 00 01 */	li r0, 1
/* 80207C90 00204BF0  93 ED 33 F0 */	stw r31, __ARQRequestPendingHi@sda21(r13)
/* 80207C94 00204BF4  93 ED 33 F4 */	stw r31, __ARQRequestPendingLo@sda21(r13)
/* 80207C98 00204BF8  93 ED 33 F8 */	stw r31, __ARQCallbackHi@sda21(r13)
/* 80207C9C 00204BFC  93 ED 33 FC */	stw r31, __ARQCallbackLo@sda21(r13)
/* 80207CA0 00204C00  90 0D 34 04 */	stw r0, __ARQ_init_flag@sda21(r13)
.L_80207CA4:
/* 80207CA4 00204C04  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80207CA8 00204C08  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80207CAC 00204C0C  38 21 00 10 */	addi r1, r1, 0x10
/* 80207CB0 00204C10  7C 08 03 A6 */	mtlr r0
/* 80207CB4 00204C14  4E 80 00 20 */	blr 

.global ARQPostRequest
ARQPostRequest:
/* 80207CB8 00204C18  7C 08 02 A6 */	mflr r0
/* 80207CBC 00204C1C  28 0A 00 00 */	cmplwi r10, 0
/* 80207CC0 00204C20  90 01 00 04 */	stw r0, 4(r1)
/* 80207CC4 00204C24  38 00 00 00 */	li r0, 0
/* 80207CC8 00204C28  94 21 FF C8 */	stwu r1, -0x38(r1)
/* 80207CCC 00204C2C  93 E1 00 34 */	stw r31, 0x34(r1)
/* 80207CD0 00204C30  93 C1 00 30 */	stw r30, 0x30(r1)
/* 80207CD4 00204C34  3B C6 00 00 */	addi r30, r6, 0
/* 80207CD8 00204C38  93 A1 00 2C */	stw r29, 0x2c(r1)
/* 80207CDC 00204C3C  3B A3 00 00 */	addi r29, r3, 0
/* 80207CE0 00204C40  90 03 00 00 */	stw r0, 0(r3)
/* 80207CE4 00204C44  90 83 00 04 */	stw r4, 4(r3)
/* 80207CE8 00204C48  90 A3 00 08 */	stw r5, 8(r3)
/* 80207CEC 00204C4C  90 E3 00 10 */	stw r7, 0x10(r3)
/* 80207CF0 00204C50  91 03 00 14 */	stw r8, 0x14(r3)
/* 80207CF4 00204C54  91 23 00 18 */	stw r9, 0x18(r3)
/* 80207CF8 00204C58  41 82 00 0C */	beq .L_80207D04
/* 80207CFC 00204C5C  91 5D 00 1C */	stw r10, 0x1c(r29)
/* 80207D00 00204C60  48 00 00 10 */	b .L_80207D10
.L_80207D04:
/* 80207D04 00204C64  3C 60 80 20 */	lis r3, __ARQCallbackHack@ha
/* 80207D08 00204C68  38 03 7B 80 */	addi r0, r3, __ARQCallbackHack@l
/* 80207D0C 00204C6C  90 1D 00 1C */	stw r0, 0x1c(r29)
.L_80207D10:
/* 80207D10 00204C70  4B FF 12 6D */	bl OSDisableInterrupts
/* 80207D14 00204C74  2C 1E 00 01 */	cmpwi r30, 1
/* 80207D18 00204C78  3B E3 00 00 */	addi r31, r3, 0
/* 80207D1C 00204C7C  41 82 00 38 */	beq .L_80207D54
/* 80207D20 00204C80  40 80 00 54 */	bge .L_80207D74
/* 80207D24 00204C84  2C 1E 00 00 */	cmpwi r30, 0
/* 80207D28 00204C88  40 80 00 08 */	bge .L_80207D30
/* 80207D2C 00204C8C  48 00 00 48 */	b .L_80207D74
.L_80207D30:
/* 80207D30 00204C90  80 0D 33 E8 */	lwz r0, __ARQRequestQueueLo@sda21(r13)
/* 80207D34 00204C94  28 00 00 00 */	cmplwi r0, 0
/* 80207D38 00204C98  41 82 00 10 */	beq .L_80207D48
/* 80207D3C 00204C9C  80 6D 33 EC */	lwz r3, __ARQRequestTailLo@sda21(r13)
/* 80207D40 00204CA0  93 A3 00 00 */	stw r29, 0(r3)
/* 80207D44 00204CA4  48 00 00 08 */	b .L_80207D4C
.L_80207D48:
/* 80207D48 00204CA8  93 AD 33 E8 */	stw r29, __ARQRequestQueueLo@sda21(r13)
.L_80207D4C:
/* 80207D4C 00204CAC  93 AD 33 EC */	stw r29, __ARQRequestTailLo@sda21(r13)
/* 80207D50 00204CB0  48 00 00 24 */	b .L_80207D74
.L_80207D54:
/* 80207D54 00204CB4  80 0D 33 E0 */	lwz r0, __ARQRequestQueueHi@sda21(r13)
/* 80207D58 00204CB8  28 00 00 00 */	cmplwi r0, 0
/* 80207D5C 00204CBC  41 82 00 10 */	beq .L_80207D6C
/* 80207D60 00204CC0  80 6D 33 E4 */	lwz r3, __ARQRequestTailHi@sda21(r13)
/* 80207D64 00204CC4  93 A3 00 00 */	stw r29, 0(r3)
/* 80207D68 00204CC8  48 00 00 08 */	b .L_80207D70
.L_80207D6C:
/* 80207D6C 00204CCC  93 AD 33 E0 */	stw r29, __ARQRequestQueueHi@sda21(r13)
.L_80207D70:
/* 80207D70 00204CD0  93 AD 33 E4 */	stw r29, __ARQRequestTailHi@sda21(r13)
.L_80207D74:
/* 80207D74 00204CD4  80 0D 33 F0 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 80207D78 00204CD8  28 00 00 00 */	cmplwi r0, 0
/* 80207D7C 00204CDC  40 82 00 74 */	bne .L_80207DF0
/* 80207D80 00204CE0  80 0D 33 F4 */	lwz r0, __ARQRequestPendingLo@sda21(r13)
/* 80207D84 00204CE4  28 00 00 00 */	cmplwi r0, 0
/* 80207D88 00204CE8  40 82 00 68 */	bne .L_80207DF0
/* 80207D8C 00204CEC  80 CD 33 E0 */	lwz r6, __ARQRequestQueueHi@sda21(r13)
/* 80207D90 00204CF0  28 06 00 00 */	cmplwi r6, 0
/* 80207D94 00204CF4  41 82 00 4C */	beq .L_80207DE0
/* 80207D98 00204CF8  80 66 00 08 */	lwz r3, 8(r6)
/* 80207D9C 00204CFC  28 03 00 00 */	cmplwi r3, 0
/* 80207DA0 00204D00  40 82 00 18 */	bne .L_80207DB8
/* 80207DA4 00204D04  80 86 00 10 */	lwz r4, 0x10(r6)
/* 80207DA8 00204D08  80 A6 00 14 */	lwz r5, 0x14(r6)
/* 80207DAC 00204D0C  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80207DB0 00204D10  4B FF EB A1 */	bl ARStartDMA
/* 80207DB4 00204D14  48 00 00 14 */	b .L_80207DC8
.L_80207DB8:
/* 80207DB8 00204D18  80 86 00 14 */	lwz r4, 0x14(r6)
/* 80207DBC 00204D1C  80 A6 00 10 */	lwz r5, 0x10(r6)
/* 80207DC0 00204D20  80 C6 00 18 */	lwz r6, 0x18(r6)
/* 80207DC4 00204D24  4B FF EB 8D */	bl ARStartDMA
.L_80207DC8:
/* 80207DC8 00204D28  80 6D 33 E0 */	lwz r3, __ARQRequestQueueHi@sda21(r13)
/* 80207DCC 00204D2C  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80207DD0 00204D30  90 0D 33 F8 */	stw r0, __ARQCallbackHi@sda21(r13)
/* 80207DD4 00204D34  90 6D 33 F0 */	stw r3, __ARQRequestPendingHi@sda21(r13)
/* 80207DD8 00204D38  80 03 00 00 */	lwz r0, 0(r3)
/* 80207DDC 00204D3C  90 0D 33 E0 */	stw r0, __ARQRequestQueueHi@sda21(r13)
.L_80207DE0:
/* 80207DE0 00204D40  80 0D 33 F0 */	lwz r0, __ARQRequestPendingHi@sda21(r13)
/* 80207DE4 00204D44  28 00 00 00 */	cmplwi r0, 0
/* 80207DE8 00204D48  40 82 00 08 */	bne .L_80207DF0
/* 80207DEC 00204D4C  4B FF FC 95 */	bl __ARQServiceQueueLo
.L_80207DF0:
/* 80207DF0 00204D50  7F E3 FB 78 */	mr r3, r31
/* 80207DF4 00204D54  4B FF 11 B1 */	bl OSRestoreInterrupts
/* 80207DF8 00204D58  80 01 00 3C */	lwz r0, 0x3c(r1)
/* 80207DFC 00204D5C  83 E1 00 34 */	lwz r31, 0x34(r1)
/* 80207E00 00204D60  83 C1 00 30 */	lwz r30, 0x30(r1)
/* 80207E04 00204D64  7C 08 03 A6 */	mtlr r0
/* 80207E08 00204D68  83 A1 00 2C */	lwz r29, 0x2c(r1)
/* 80207E0C 00204D6C  38 21 00 38 */	addi r1, r1, 0x38
/* 80207E10 00204D70  4E 80 00 20 */	blr 

.section .sbss, "wa"
.balign 8
__ARQRequestQueueHi:
	.skip 0x4
__ARQRequestTailHi:
	.skip 0x4
__ARQRequestQueueLo:
	.skip 0x4
__ARQRequestTailLo:
	.skip 0x4
__ARQRequestPendingHi:
	.skip 0x4
__ARQRequestPendingLo:
	.skip 0x4
__ARQCallbackHi:
	.skip 0x4
__ARQCallbackLo:
	.skip 0x4
__ARQChunkSize:
	.skip 0x4
__ARQ_init_flag:
	.skip 0x4
