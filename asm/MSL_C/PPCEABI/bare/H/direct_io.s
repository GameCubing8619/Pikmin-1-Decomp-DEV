.include "macros.inc"
.section .text, "ax"  # 0x80005560 - 0x80221F60
.fn fwrite, global
/* 80215E04 00212D64  7C 08 02 A6 */	mflr r0
/* 80215E08 00212D68  90 01 00 04 */	stw r0, 4(r1)
/* 80215E0C 00212D6C  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 80215E10 00212D70  BF 21 00 2C */	stmw r25, 0x2c(r1)
/* 80215E14 00212D74  3B 44 00 00 */	addi r26, r4, 0
/* 80215E18 00212D78  3B 66 00 00 */	addi r27, r6, 0
/* 80215E1C 00212D7C  3B 83 00 00 */	addi r28, r3, 0
/* 80215E20 00212D80  3B 25 00 00 */	addi r25, r5, 0
/* 80215E24 00212D84  38 7B 00 00 */	addi r3, r27, 0
/* 80215E28 00212D88  38 80 00 00 */	li r4, 0
/* 80215E2C 00212D8C  48 00 48 65 */	bl fwide
/* 80215E30 00212D90  2C 03 00 00 */	cmpwi r3, 0
/* 80215E34 00212D94  40 82 00 10 */	bne .L_80215E44
/* 80215E38 00212D98  38 7B 00 00 */	addi r3, r27, 0
/* 80215E3C 00212D9C  38 80 FF FF */	li r4, -1
/* 80215E40 00212DA0  48 00 48 51 */	bl fwide
.L_80215E44:
/* 80215E44 00212DA4  7C 1A C9 D7 */	mullw. r0, r26, r25
/* 80215E48 00212DA8  7C 1D 03 78 */	mr r29, r0
/* 80215E4C 00212DAC  41 82 00 1C */	beq .L_80215E68
/* 80215E50 00212DB0  88 1B 00 0A */	lbz r0, 0xa(r27)
/* 80215E54 00212DB4  28 00 00 00 */	cmplwi r0, 0
/* 80215E58 00212DB8  40 82 00 10 */	bne .L_80215E68
/* 80215E5C 00212DBC  A0 1B 00 04 */	lhz r0, 4(r27)
/* 80215E60 00212DC0  54 00 D7 7F */	rlwinm. r0, r0, 0x1a, 0x1d, 0x1f
/* 80215E64 00212DC4  40 82 00 0C */	bne .L_80215E70
.L_80215E68:
/* 80215E68 00212DC8  38 60 00 00 */	li r3, 0
/* 80215E6C 00212DCC  48 00 02 60 */	b .L_802160CC
.L_80215E70:
/* 80215E70 00212DD0  2C 00 00 02 */	cmpwi r0, 2
/* 80215E74 00212DD4  40 82 00 08 */	bne .L_80215E7C
/* 80215E78 00212DD8  48 00 07 1D */	bl __stdio_atexit
.L_80215E7C:
/* 80215E7C 00212DDC  88 1B 00 05 */	lbz r0, 5(r27)
/* 80215E80 00212DE0  3B E0 00 01 */	li r31, 1
/* 80215E84 00212DE4  38 7F 00 00 */	addi r3, r31, 0
/* 80215E88 00212DE8  54 00 EF FF */	rlwinm. r0, r0, 0x1d, 0x1f, 0x1f
/* 80215E8C 00212DEC  38 9F 00 00 */	addi r4, r31, 0
/* 80215E90 00212DF0  41 82 00 18 */	beq .L_80215EA8
/* 80215E94 00212DF4  A0 1B 00 04 */	lhz r0, 4(r27)
/* 80215E98 00212DF8  54 00 D7 7E */	rlwinm r0, r0, 0x1a, 0x1d, 0x1f
/* 80215E9C 00212DFC  2C 00 00 03 */	cmpwi r0, 3
/* 80215EA0 00212E00  41 82 00 08 */	beq .L_80215EA8
/* 80215EA4 00212E04  38 80 00 00 */	li r4, 0
.L_80215EA8:
/* 80215EA8 00212E08  2C 04 00 00 */	cmpwi r4, 0
/* 80215EAC 00212E0C  40 82 00 18 */	bne .L_80215EC4
/* 80215EB0 00212E10  88 1B 00 04 */	lbz r0, 4(r27)
/* 80215EB4 00212E14  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 80215EB8 00212E18  28 00 00 02 */	cmplwi r0, 2
/* 80215EBC 00212E1C  41 82 00 08 */	beq .L_80215EC4
/* 80215EC0 00212E20  38 60 00 00 */	li r3, 0
.L_80215EC4:
/* 80215EC4 00212E24  2C 03 00 00 */	cmpwi r3, 0
/* 80215EC8 00212E28  40 82 00 18 */	bne .L_80215EE0
/* 80215ECC 00212E2C  88 1B 00 04 */	lbz r0, 4(r27)
/* 80215ED0 00212E30  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 80215ED4 00212E34  28 00 00 01 */	cmplwi r0, 1
/* 80215ED8 00212E38  41 82 00 08 */	beq .L_80215EE0
/* 80215EDC 00212E3C  3B E0 00 00 */	li r31, 0
.L_80215EE0:
/* 80215EE0 00212E40  88 7B 00 08 */	lbz r3, 8(r27)
/* 80215EE4 00212E44  54 60 DF 7F */	rlwinm. r0, r3, 0x1b, 0x1d, 0x1f
/* 80215EE8 00212E48  40 82 00 24 */	bne .L_80215F0C
/* 80215EEC 00212E4C  88 1B 00 04 */	lbz r0, 4(r27)
/* 80215EF0 00212E50  54 00 EF BD */	rlwinm. r0, r0, 0x1d, 0x1e, 0x1e
/* 80215EF4 00212E54  41 82 00 18 */	beq .L_80215F0C
/* 80215EF8 00212E58  38 00 00 01 */	li r0, 1
/* 80215EFC 00212E5C  50 03 2E 34 */	rlwimi r3, r0, 5, 0x18, 0x1a
/* 80215F00 00212E60  98 7B 00 08 */	stb r3, 8(r27)
/* 80215F04 00212E64  7F 63 DB 78 */	mr r3, r27
/* 80215F08 00212E68  4B FF FE 75 */	bl __prep_buffer
.L_80215F0C:
/* 80215F0C 00212E6C  88 1B 00 08 */	lbz r0, 8(r27)
/* 80215F10 00212E70  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 80215F14 00212E74  28 00 00 01 */	cmplwi r0, 1
/* 80215F18 00212E78  41 82 00 1C */	beq .L_80215F34
/* 80215F1C 00212E7C  38 00 00 01 */	li r0, 1
/* 80215F20 00212E80  98 1B 00 0A */	stb r0, 0xa(r27)
/* 80215F24 00212E84  38 00 00 00 */	li r0, 0
/* 80215F28 00212E88  38 60 00 00 */	li r3, 0
/* 80215F2C 00212E8C  90 1B 00 24 */	stw r0, 0x24(r27)
/* 80215F30 00212E90  48 00 01 9C */	b .L_802160CC
.L_80215F34:
/* 80215F34 00212E94  28 1D 00 00 */	cmplwi r29, 0
/* 80215F38 00212E98  3B DC 00 00 */	addi r30, r28, 0
/* 80215F3C 00212E9C  3B 80 00 00 */	li r28, 0
/* 80215F40 00212EA0  41 82 00 FC */	beq .L_8021603C
/* 80215F44 00212EA4  80 9B 00 20 */	lwz r4, 0x20(r27)
/* 80215F48 00212EA8  80 7B 00 18 */	lwz r3, 0x18(r27)
/* 80215F4C 00212EAC  7C 04 18 40 */	cmplw r4, r3
/* 80215F50 00212EB0  40 82 00 0C */	bne .L_80215F5C
/* 80215F54 00212EB4  2C 1F 00 00 */	cmpwi r31, 0
/* 80215F58 00212EB8  41 82 00 E4 */	beq .L_8021603C
.L_80215F5C:
/* 80215F5C 00212EBC  80 1B 00 1C */	lwz r0, 0x1c(r27)
/* 80215F60 00212EC0  7C 63 20 50 */	subf r3, r3, r4
/* 80215F64 00212EC4  7C 03 00 50 */	subf r0, r3, r0
/* 80215F68 00212EC8  90 1B 00 24 */	stw r0, 0x24(r27)
.L_80215F6C:
/* 80215F6C 00212ECC  80 1B 00 24 */	lwz r0, 0x24(r27)
/* 80215F70 00212ED0  90 01 00 20 */	stw r0, 0x20(r1)
/* 80215F74 00212ED4  80 01 00 20 */	lwz r0, 0x20(r1)
/* 80215F78 00212ED8  7C 00 E8 40 */	cmplw r0, r29
/* 80215F7C 00212EDC  40 81 00 08 */	ble .L_80215F84
/* 80215F80 00212EE0  93 A1 00 20 */	stw r29, 0x20(r1)
.L_80215F84:
/* 80215F84 00212EE4  80 A1 00 20 */	lwz r5, 0x20(r1)
/* 80215F88 00212EE8  28 05 00 00 */	cmplwi r5, 0
/* 80215F8C 00212EEC  41 82 00 3C */	beq .L_80215FC8
/* 80215F90 00212EF0  80 7B 00 20 */	lwz r3, 0x20(r27)
/* 80215F94 00212EF4  7F C4 F3 78 */	mr r4, r30
/* 80215F98 00212EF8  4B DE D4 7D */	bl memcpy
/* 80215F9C 00212EFC  80 61 00 20 */	lwz r3, 0x20(r1)
/* 80215FA0 00212F00  80 1B 00 20 */	lwz r0, 0x20(r27)
/* 80215FA4 00212F04  7F DE 1A 14 */	add r30, r30, r3
/* 80215FA8 00212F08  7C 00 1A 14 */	add r0, r0, r3
/* 80215FAC 00212F0C  90 1B 00 20 */	stw r0, 0x20(r27)
/* 80215FB0 00212F10  7F 9C 1A 14 */	add r28, r28, r3
/* 80215FB4 00212F14  7F A3 E8 50 */	subf r29, r3, r29
/* 80215FB8 00212F18  80 61 00 20 */	lwz r3, 0x20(r1)
/* 80215FBC 00212F1C  80 1B 00 24 */	lwz r0, 0x24(r27)
/* 80215FC0 00212F20  7C 03 00 50 */	subf r0, r3, r0
/* 80215FC4 00212F24  90 1B 00 24 */	stw r0, 0x24(r27)
.L_80215FC8:
/* 80215FC8 00212F28  80 7B 00 24 */	lwz r3, 0x24(r27)
/* 80215FCC 00212F2C  28 03 00 00 */	cmplwi r3, 0
/* 80215FD0 00212F30  40 82 00 1C */	bne .L_80215FEC
/* 80215FD4 00212F34  A0 1B 00 04 */	lhz r0, 4(r27)
/* 80215FD8 00212F38  54 00 D7 7E */	rlwinm r0, r0, 0x1a, 0x1d, 0x1f
/* 80215FDC 00212F3C  2C 00 00 03 */	cmpwi r0, 3
/* 80215FE0 00212F40  40 82 00 0C */	bne .L_80215FEC
/* 80215FE4 00212F44  7F 9C EA 14 */	add r28, r28, r29
/* 80215FE8 00212F48  48 00 00 54 */	b .L_8021603C
.L_80215FEC:
/* 80215FEC 00212F4C  28 03 00 00 */	cmplwi r3, 0
/* 80215FF0 00212F50  41 82 00 10 */	beq .L_80216000
/* 80215FF4 00212F54  88 1B 00 04 */	lbz r0, 4(r27)
/* 80215FF8 00212F58  54 00 FF BF */	rlwinm. r0, r0, 0x1f, 0x1e, 0x1f
/* 80215FFC 00212F5C  40 82 00 30 */	bne .L_8021602C
.L_80216000:
/* 80216000 00212F60  38 7B 00 00 */	addi r3, r27, 0
/* 80216004 00212F64  38 80 00 00 */	li r4, 0
/* 80216008 00212F68  4B FF FC A9 */	bl __flush_buffer
/* 8021600C 00212F6C  2C 03 00 00 */	cmpwi r3, 0
/* 80216010 00212F70  41 82 00 1C */	beq .L_8021602C
/* 80216014 00212F74  38 00 00 01 */	li r0, 1
/* 80216018 00212F78  98 1B 00 0A */	stb r0, 0xa(r27)
/* 8021601C 00212F7C  38 00 00 00 */	li r0, 0
/* 80216020 00212F80  3B A0 00 00 */	li r29, 0
/* 80216024 00212F84  90 1B 00 24 */	stw r0, 0x24(r27)
/* 80216028 00212F88  48 00 00 14 */	b .L_8021603C
.L_8021602C:
/* 8021602C 00212F8C  28 1D 00 00 */	cmplwi r29, 0
/* 80216030 00212F90  41 82 00 0C */	beq .L_8021603C
/* 80216034 00212F94  2C 1F 00 00 */	cmpwi r31, 0
/* 80216038 00212F98  40 82 FF 34 */	bne .L_80215F6C
.L_8021603C:
/* 8021603C 00212F9C  28 1D 00 00 */	cmplwi r29, 0
/* 80216040 00212FA0  41 82 00 68 */	beq .L_802160A8
/* 80216044 00212FA4  2C 1F 00 00 */	cmpwi r31, 0
/* 80216048 00212FA8  40 82 00 60 */	bne .L_802160A8
/* 8021604C 00212FAC  83 FB 00 18 */	lwz r31, 0x18(r27)
/* 80216050 00212FB0  7C 1E EA 14 */	add r0, r30, r29
/* 80216054 00212FB4  83 3B 00 1C */	lwz r25, 0x1c(r27)
/* 80216058 00212FB8  38 7B 00 00 */	addi r3, r27, 0
/* 8021605C 00212FBC  38 81 00 20 */	addi r4, r1, 0x20
/* 80216060 00212FC0  93 DB 00 18 */	stw r30, 0x18(r27)
/* 80216064 00212FC4  93 BB 00 1C */	stw r29, 0x1c(r27)
/* 80216068 00212FC8  90 1B 00 20 */	stw r0, 0x20(r27)
/* 8021606C 00212FCC  4B FF FC 45 */	bl __flush_buffer
/* 80216070 00212FD0  2C 03 00 00 */	cmpwi r3, 0
/* 80216074 00212FD4  41 82 00 14 */	beq .L_80216088
/* 80216078 00212FD8  38 00 00 01 */	li r0, 1
/* 8021607C 00212FDC  98 1B 00 0A */	stb r0, 0xa(r27)
/* 80216080 00212FE0  38 00 00 00 */	li r0, 0
/* 80216084 00212FE4  90 1B 00 24 */	stw r0, 0x24(r27)
.L_80216088:
/* 80216088 00212FE8  80 01 00 20 */	lwz r0, 0x20(r1)
/* 8021608C 00212FEC  7F 63 DB 78 */	mr r3, r27
/* 80216090 00212FF0  93 FB 00 18 */	stw r31, 0x18(r27)
/* 80216094 00212FF4  7F 9C 02 14 */	add r28, r28, r0
/* 80216098 00212FF8  93 3B 00 1C */	stw r25, 0x1c(r27)
/* 8021609C 00212FFC  4B FF FC E1 */	bl __prep_buffer
/* 802160A0 00213000  38 00 00 00 */	li r0, 0
/* 802160A4 00213004  90 1B 00 24 */	stw r0, 0x24(r27)
.L_802160A8:
/* 802160A8 00213008  88 1B 00 04 */	lbz r0, 4(r27)
/* 802160AC 0021300C  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 802160B0 00213010  28 00 00 02 */	cmplwi r0, 2
/* 802160B4 00213014  41 82 00 0C */	beq .L_802160C0
/* 802160B8 00213018  38 00 00 00 */	li r0, 0
/* 802160BC 0021301C  90 1B 00 24 */	stw r0, 0x24(r27)
.L_802160C0:
/* 802160C0 00213020  38 1A FF FF */	addi r0, r26, -1
/* 802160C4 00213024  7C 1C 02 14 */	add r0, r28, r0
/* 802160C8 00213028  7C 60 D3 96 */	divwu r3, r0, r26
.L_802160CC:
/* 802160CC 0021302C  BB 21 00 2C */	lmw r25, 0x2c(r1)
/* 802160D0 00213030  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 802160D4 00213034  38 21 00 48 */	addi r1, r1, 0x48
/* 802160D8 00213038  7C 08 03 A6 */	mtlr r0
/* 802160DC 0021303C  4E 80 00 20 */	blr 
.endfn fwrite
